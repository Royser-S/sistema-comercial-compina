/* =========================================
   1. VARIABLES DE TEMA
   ========================================= */
:root {
  --body-bg: #f4f6f9;
  --text-color: #212529;
  --text-secondary: #6c757d;
  --navbar-bg: #ffffff;
  --card-bg: #ffffff;
  --border-color: #dee2e6;
  --input-bg: #ffffff;
  --input-border: #ced4da;
}

body.dark-mode {
  --body-bg: #121212;
  --text-color: #e0e0e0;
  --text-secondary: #adb5bd;
  --navbar-bg: #1e1e1e;
  --card-bg: #1e1e1e;
  --border-color: #333333;
  --input-bg: #2d2d2d;
  --input-border: #444444;
}

/* =========================================
   2. APLICACIÃ“N GLOBAL
   ========================================= */
body {
  background-color: var(--body-bg) !important;
  color: var(--text-color) !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.bg-white, .bg-light, .card, .navbar, .footer-themed {
  background-color: var(--card-bg) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
}

/* =========================================
   3. FORMULARIOS (MODO OSCURO)
   ========================================= */
body.dark-mode .form-label, 
body.dark-mode label {
  color: var(--text-color) !important;
}

/* Inputs normales */
body.dark-mode .form-control, 
body.dark-mode .form-select,
body.dark-mode .input-group-text {
  background-color: var(--input-bg) !important;
  border-color: var(--input-border) !important;
  color: var(--text-color) !important;
}

body.dark-mode .form-control::placeholder { color: #888; }

body.dark-mode .form-control:focus,
body.dark-mode .form-select:focus {
  background-color: #333333 !important;
  color: #ffffff !important;
  border-color: #666;
  box-shadow: 0 0 0 0.25rem rgba(255, 255, 255, 0.1);
}

/* --- FIX ESPECIAL PARA EL DROPDOWN DE UBICACIONES --- */
/* Esto hace que el botÃ³n se vea idÃ©ntico a un input .form-control */
.custom-dropdown-toggle {
  background-color: var(--input-bg) !important;
  border: 1px solid transparent !important; /* Borde invisible como tus otros inputs */
  color: var(--text-color) !important;
  border-radius: 0.375rem;
  padding: 0.375rem 0.75rem;
}

/* En modo oscuro, le damos el borde y color correcto */
body.dark-mode .custom-dropdown-toggle {
  background-color: var(--input-bg) !important;
  border-color: var(--input-border) !important; 
  color: var(--text-color) !important;
}
/* Quitamos el estilo azul/gris feo al hacer clic */
.custom-dropdown-toggle:active, 
.custom-dropdown-toggle:focus, 
.show > .custom-dropdown-toggle.dropdown-toggle {
    background-color: var(--input-bg) !important;
    color: var(--text-color) !important;
    border-color: #86b7fe !important; /* Color de focus estÃ¡ndar */
}

/* MenÃº desplegable oscuro */
body.dark-mode .dropdown-menu {
  background-color: var(--card-bg);
  border-color: var(--border-color);
}
body.dark-mode .dropdown-item { color: var(--text-color); }
body.dark-mode .dropdown-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
  color: #ffffff;
}

/* =========================================
   4. TABLAS
   ========================================= */
body.dark-mode .table,
body.dark-mode .table > :not(caption) > * > * {
  background-color: var(--card-bg) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color);
}
body.dark-mode .table thead th {
  background-color: #1a1a1a !important;
  color: #ffffff !important;
}
body.dark-mode .table-hover tbody tr:hover > * {
  background-color: rgba(255, 255, 255, 0.08) !important;
  color: #ffffff !important;
}
body.dark-mode .table tbody tr td.text-center {
  background-color: var(--card-bg) !important;
  color: var(--text-secondary) !important;
}

/* =========================================
   5. MODALES
   ========================================= */
body.dark-mode .modal-content {
  background-color: var(--card-bg);
  border-color: var(--border-color);
}
body.dark-mode .modal-header,
body.dark-mode .modal-footer { border-color: var(--border-color); }
body.dark-mode .btn-close { filter: invert(1) grayscale(100%) brightness(200%); }
body.dark-mode .text-muted { color: var(--text-secondary) !important; }
body.dark-mode .text-dark, body.dark-mode .text-secondary { color: var(--text-color) !important; }

/* =========================================
   6. LINK DEL FOOTER (NARANJA RESTAURADO ðŸ§¡)
   ========================================= */
.footer-link {
  transition: transform 0.2s, color 0.2s;
  color: var(--text-secondary) !important;
}
.footer-link:hover {
  transform: translateY(-2px);
  color: #fd7e14 !important; /* Â¡NARANJA CORPORATIVO! */
}



.box-themed {
  background-color: #f8f9fa; 
  border: 1px solid #dee2e6;
  color: #212529;
}

body.dark-mode .box-themed {
  background-color: #2c2c2c !important; 
  border: 1px solid #444444 !important;
  color: #e0e0e0 !important;
}

body.dark-mode .box-themed .text-muted {
  color: #adb5bd !important; 
}

/* Arreglo para bordes internos */
body.dark-mode .border-bottom {
    border-color: #444 !important;
}




.card-header, 
.card-footer {
    background-color: transparent !important;
    border-color: var(--border-color) !important;
}

body.dark-mode .card-header {
    color: var(--text-color);
}